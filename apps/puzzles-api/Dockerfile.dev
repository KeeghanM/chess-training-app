FROM node:22-alpine

WORKDIR /app

# Copy only package info for install
COPY package.json yarn.lock ./

# Install dependencies (hoisted via workspaces)
RUN yarn install --frozen-lockfile

# Mount code later (volume in compose) to allow live reload
CMD ["yarn", "dev"]